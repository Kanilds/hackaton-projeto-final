function PerfilIncluirAlterarController(a,b,c,d,e,f,g){vm=this,vm.perfil={id:null,nome:"",descricao:"",dataHoraInclusao:"",dataHoraAlteracao:""},vm.data={dataHoraInclusao:"",dataHoraAlteracao:""},vm.urlPerfil="http://localhost:8080/treinamento/api/perfis/",vm.urlPessoa="http://localhost:8080/treinamento/api/pessoas/",vm.init=function(){vm.tituloTela="Cadastrar Perfil",vm.acao="Cadastrar",vm.listar(vm.urlPerfil).then(function(a){void 0!==a&&(vm.listaPerfil=a,vm.idPerfil=f,null!==vm.idPerfil&&(vm.tituloTela="Editar Perfil",vm.acao="Editar",vm.recuperarObjetoPorIDURL(f,vm.urlPerfil).then(function(a){void 0!==a&&(vm.perfil=a)})))})},vm.cancelar=function(){vm.retornarTelaListagem()},vm.retornarTelaListagem=function(){c.path("listarPerfis")},vm.limparTela=function(){$("#modalEndereco").modal("toggle"),vm.endereco=void 0},vm.incluir=function(){vm.perfil.dataHoraInclusao=vm.DataJava(),vm.perfil.dataHoraAlteracao=vm.DataJava();var a=angular.copy(vm.perfil);console.log(a),"Cadastrar"===vm.acao?vm.salvar(vm.urlPerfil,a).then(function(a){alert("Perfil Cadastrado com sucesso!"),vm.retornarTelaListagem()}):"Editar"===vm.acao&&vm.alterar(vm.urlPerfil,a).then(function(a){alert("Perfil Editado com sucesso!"),vm.retornarTelaListagem()})},vm.remover=function(a,b){var c=vm.urlPerfil+a.id;vm.excluir(c).then(function(a){vm.retornarTelaListagem()})},vm.recuperarObjetoPorIDURL=function(a,b){var c=d.defer();return g.listarId(b+a).then(function(a){void 0!==a.data?c.resolve(a.data):c.resolve(vm.perfil)}),c.promise},vm.listar=function(a){var b=d.defer();return g.listar(a).then(function(a){void 0!==a.data&&b.resolve(a.data)}),b.promise},vm.salvar=function(a,b){var c=d.defer(),e=JSON.stringify(b);return g.incluir(a,e).then(function(a){200==a.status&&c.resolve(a.data)}),c.promise},vm.alterar=function(a,b){var c=d.defer(),e=JSON.stringify(b);return g.alterar(a,e).then(function(a){200==a.status&&(c.resolve(a.data),alert("Salvo com sucesso"))}),c.promise},vm.excluir=function(a,b){var c=d.defer();return g.excluir(a).then(function(a){200==a.status&&(c.resolve(a.data),alert("Excluido com sucesso"))}),c.promise},vm.DataJava=function(){var a=new Date;return a=a.toJSON()}}angular.module("hackaton-stefanini").controller("PerfilIncluirAlterarController",PerfilIncluirAlterarController),PerfilIncluirAlterarController.$inject=["$rootScope","$scope","$location","$q","$filter","$routeParams","HackatonStefaniniService"];